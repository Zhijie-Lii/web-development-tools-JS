{"version":3,"sources":["webpack://exam02/./src/services.js","webpack://exam02/./src/web.js","webpack://exam02/webpack/bootstrap","webpack://exam02/webpack/runtime/define property getters","webpack://exam02/webpack/runtime/hasOwnProperty shorthand","webpack://exam02/webpack/runtime/make namespace object","webpack://exam02/./src/recipe.js"],"names":["loadRecipes","fetch","method","Promise","reject","error","then","response","ok","json","err","fetchRecipeDetail","recipeId","performLogin","username","headers","Headers","body","JSON","stringify","performLogout","console","log","addRecipeCallback","title","ingre","instru","ingredient","instruction","checkLoginStatus","loginEl","document","querySelector","loggedinStatusEl","logoutEl","showLoggedinContent","classList","add","remove","innerHTML","showContentWithoutLogin","recipesListEl","recipeDetailEl","mainContentEl","userStatusEl","addTitleEl","addIngreEl","addInstruEl","addButtonEl","recipeState","recipeNumber","displayRecipes","addLogin","addLogout","jumpToRecipeDetails","recipesInfo","recipesData","renderRecipes","recipes","html","Object","values","map","recipe","id","author","join","updateStatus","msg","loginButtonEl","usernameEl","addEventListener","value","addRecipe","logoutButtonEl","e","target","contains","preventDefault","dataset","index","recipeDetail","showRecipeDetail","backToMainPage","backButton","newRecipe"],"mappings":"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","file":"recipe.js","sourcesContent":["\n\nexport const loadRecipes = function() {\n    return fetch('/recipes', {\n        method: 'GET',\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error' });\n    })\n    .then( response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n    });\n};\n\nexport const fetchRecipeDetail = function(recipeId) {\n    return fetch(`/recipes/${recipeId}`, {\n        method: 'GET',\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error' });\n    })\n    .then( response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n    });\n}\n\nexport const performLogin = function( username ) {\n    return fetch('/session', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify( { username: username }),\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error'});\n    })\n    .then( response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n    });\n};\n\nexport const performLogout = function() {\n    return fetch('/session', {\n        method: 'DELETE',\n        // headers: new Headers({\n        //     'content-type': 'application/json',\n        // }),\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error'});\n    })\n    .then( response => {\n        console.log('goo')\n        if (response.ok) {\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n    });\n};\n\nexport const addRecipeCallback = function( title, ingre, instru ) {\n    return fetch('/recipe', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify({\n            title: title,\n            ingredient: ingre,\n            instruction: instru,\n        }),\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error'});\n    })\n    .then( response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n    });\n}\n\nexport const checkLoginStatus = function() {\n    return fetch('/session', {\n        method: 'GET',\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error' });\n    })\n    .then( response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n    });\n};","const loginEl = document.querySelector('#recipe-app .login');\nconst loggedinStatusEl = document.querySelector('#recipe-app .logged-in');\nconst logoutEl = document.querySelector('#recipe-app .logout');\n\nexport const showLoggedinContent = function( {username} ) {\n    loginEl.classList.add('hidden');\n    loggedinStatusEl.classList.remove('hidden');\n    logoutEl.classList.remove('hidden');\n    document.querySelector('#recipe-app .add-recipe').classList.remove('hidden');\n    loggedinStatusEl.innerHTML = `name: ${username}`;\n};\n\nexport const showContentWithoutLogin = function() {\n    loginEl.classList.remove('hidden');\n    loggedinStatusEl.classList.add('hidden');\n    logoutEl.classList.add('hidden');\n    document.querySelector('#recipe-app .add-recipe').classList.add('hidden');\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n    loadRecipes,\n    performLogin, performLogout,\n    fetchRecipeDetail,addRecipeCallback,\n    checkLoginStatus\n} from './services';\n\nimport {\n    showLoggedinContent,\n    showContentWithoutLogin\n} from './web';\n\nconst recipesListEl = document.querySelector('#recipe-app .recipes');\nconst recipeDetailEl = document.querySelector('#recipe-app .recipe-detail');\nconst mainContentEl = document.querySelector('#mainContent');\nconst userStatusEl = document.querySelector('#recipe-app .user-status')\n\nconst addTitleEl = document.querySelector('#recipe-app .add-recipe .title');\nconst addIngreEl = document.querySelector('#recipe-app .add-recipe .ingre');\nconst addInstruEl = document.querySelector('#recipe-app .add-recipe .instru');\nconst addButtonEl = document.querySelector('#recipe-app .add-recipe button');\n\nlet recipeState = {};\nlet recipeNumber = 0;\n\ncheckLoginStatus()\n.then( (username) => {\n    showLoggedinContent(username);\n    console.log('with login')\n    displayRecipes();\n})\n.catch( err => {\n    showContentWithoutLogin();\n    displayRecipes();\n})\n\naddLogin();\naddLogout();\n\njumpToRecipeDetails();\n\nfunction displayRecipes() {\n    loadRecipes()\n    .then( (recipesInfo) => {\n    recipeState = recipesInfo.recipesData;\n    renderRecipes( recipeState );\n    console.log('display recipes');\n    })\n}\n\nfunction renderRecipes(recipes) {\n    recipeState = recipes;\n    const html = Object.values(recipeState).map( recipe => {\n        recipeNumber++;\n        return`\n            <li>\n                <a data-index=${recipe.id} class=\"recipe-title\">${recipe.title}</a>\n                <span data-index=${recipe.id} class=\"author\">${recipe.author}</span>\n            </li>\n        `;\n    }).join('');\n    console.log('finish render');\n    recipesListEl.innerHTML = html;\n}\n\nfunction updateStatus( msg ) {\n    userStatusEl.innerHTML = msg;\n}\n\nfunction addLogin() {\n    const loginButtonEl = document.querySelector('#recipe-app .login button');\n    const usernameEl = document.querySelector('#recipe-app .login input');\n    loginButtonEl.addEventListener('click', ()=> {\n        const username = usernameEl.value;\n        \n        performLogin(username)\n        .then( (username) => {\n            console.log('perform login');\n            usernameEl.value = '';\n            showLoggedinContent(username);\n            addRecipe();\n            \n            updateStatus('username loggedin.')\n        })\n        .catch( err => {\n            updateStatus(err);\n        })\n    })\n}\n\nfunction addLogout() {\n    const logoutButtonEl = document.querySelector('#recipe-app .logout button');\n    logoutButtonEl.addEventListener('click', () => {\n        performLogout()\n        .then( () => {\n            updateStatus('Already logout')\n            showContentWithoutLogin();\n        })\n        .catch( err => {\n            updateStatus(err);\n        })\n    })\n}\n\nfunction jumpToRecipeDetails(){\n    recipesListEl.addEventListener('click', (e) => {\n        if(e.target.classList.contains('recipe-title')){\n            e.preventDefault();\n            const recipeId = e.target.dataset.index;\n            fetchRecipeDetail(recipeId)\n            .then(recipeDetail => {\n                showRecipeDetail(recipeDetail);\n                backToMainPage();\n            })\n            .catch( err => {\n                updateStatus(err);\n            })\n        \n        };\n    })\n}\n\nfunction showRecipeDetail(recipeDetail ) {\n    const html = `\n        <p><label>Recipe Title:</label>${recipeDetail.title} </p>\n        <p><label>Author:</label>${recipeDetail.author} </p>\n        <p><label>Ingredient:</label>${recipeDetail.ingredient} </p>\n        <p><label>Instruction:</label>${recipeDetail.instruction} </p>\n        <br/><button class=\"back\">Back</button>`\n        mainContentEl.classList.add('hidden');\n    recipeDetailEl.innerHTML = html;\n    // backToMainPage();\n}\n\nfunction  backToMainPage() {\n    const backButton = document.querySelector('.recipe-detail button');\n    backButton.addEventListener('click', e => {\n        e.preventDefault();\n        renderRecipes( recipeState );\n        mainContentEl.classList.remove('hidden');\n        recipeDetailEl.classList.add('hidden');\n        console.log('back there');\n    })\n}\n\nfunction addRecipe() {\n    checkLoginStatus();\n    addButtonEl.addEventListener('click', (e) => {\n        e.preventDefault();\n        if (!addTitleEl.value || !addIngreEl.value || !addInstruEl.value){\n            updateStatus('fulfill the whole items first');\n            // addButtonEl.disabled = false;\n            return;\n        } \n        console.log('to add')\n        addRecipeCallback(addTitleEl.value, addIngreEl.value, addInstruEl.value)\n        .then( (newRecipe) => {\n            recipeState[newRecipe.id] = newRecipe;\n            showRecipeDetail( newRecipe );\n            recipeState[recipeNumber] = newRecipe;\n            addTitleEl.value = '';\n            addIngreEl.value = '';\n            addInstruEl.value = '';\n        })\n        .catch( (err) => {\n            updateStatus( (err) );\n        })\n    });\n}"],"sourceRoot":""}