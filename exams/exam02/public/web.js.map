{"version":3,"sources":["webpack://exam02/./src/services.js","webpack://exam02/webpack/bootstrap","webpack://exam02/webpack/runtime/define property getters","webpack://exam02/webpack/runtime/hasOwnProperty shorthand","webpack://exam02/webpack/runtime/make namespace object","webpack://exam02/./src/web.js"],"names":["loadRecipes","fetch","method","Promise","reject","error","then","response","ok","json","err","performLogin","username","headers","Headers","body","JSON","stringify","console","log","addRecipeCallback","recipeListEl","document","querySelector","usernameEl","loginButtonEl","loggedinStatusEl","logoutButtonEl","addTitleEl","addIngreEl","addInstruEl","addButtonEl","addLogin","addRecipe","showLoggedinContent","classList","add","remove","addEventListener","value","renderRecipes","updateStatus","recipes","recipeState","html","map","recipe","id","title","author","join","innerHTML","checkLoginStatus","e","disabled","target","preventDefault"],"mappings":"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","file":"web.js","sourcesContent":["export const loadRecipes = function() {\n    return fetch('/recipes', {\n        method: 'GET',\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error' });\n    })\n    .then( response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n    });\n};\n\nexport const performLogin = function( username ) {\n    return fetch('/session', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify( { username: username }),\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error'});\n    })\n    .then( response => {\n        if (response.ok) {\n            console.log(username);\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n    });\n};\n\nexport const addRecipeCallback = function() {\n    return fetch('/recipe', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify({\n\n        })\n    })\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n    loadRecipes,\n    performLogin,\n    addRecipeCallback\n} from './services';\n\nconst recipeListEl = document.querySelector('#recipe-app .recipes');\nconst usernameEl = document.querySelector('#recipe-app .login input');\nconst loginButtonEl = document.querySelector('#recipe-app .login button');\nconst loggedinStatusEl = document.querySelector('#recipe-app .logged-in');\nconst logoutButtonEl = document.querySelector('#recipe-app .logout button');\nconst addTitleEl = document.querySelector('#recipe-app .add-recipe.title');\nconst addIngreEl = document.querySelector('#recipe-app .add-recipe.ingre');\nconst addInstruEl = document.querySelector('#recipe-app .add-recipe.instru');\nconst addButtonEl = document.querySelector('#recipe-app .app-recipe button');\n\n//  preventDefault();\nloadRecipes();\naddLogin();\naddRecipe();\n\nfunction showLoggedinContent() {\n    usernameEl.classList.add('hidden');\n    loginButtonEl.classList.add('hidden');\n    loggedinStatusEl.classList.remove('hidden');\n    logoutButtonEl.classList.remove('hidden');\n    document.querySelector('#recipe-app .add-recipe').classList.remove('hidden');\n}\n\nfunction addLogin() {\n    loginButtonEl.addEventListener('click', ()=> {\n        const username = usernameEl.value;\n        performLogin(username)\n        then( () => {\n            showLoggedinContent();\n            renderRecipes();\n        })\n        .catch( err => {\n            updateStatus();\n        })\n    })\n}\n\nfunction renderRecipes(recipes) {\n    recipeState = recipes;\n    const html = recipeState.map( recipe => {\n        return`\n            <li>\n                <a data-index=${recipe.id} href=\"\">${recipe.title}</a>\n                <span data-index=${recipe.id}>${recipe.author}</a>\n            </li>\n        `;\n    }).join('');\n    recipeListEl.innerHTML = html;\n}\n\nfunction addRecipe() {\n    checkLoginStatus();\n    addButtonEl.addEventListener('click', (e) => {\n        if (!addTitleEl.value && !addIngreEl && !addInstruEl){\n            addButtonEl.disabled = false;\n        }\n        e.target.classList = \n        addRecipeCallback( );\n        preventDefault();\n    });\n\n}"],"sourceRoot":""}