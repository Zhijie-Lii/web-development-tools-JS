{"version":3,"sources":["webpack://js-rest-login/./src/services.js","webpack://js-rest-login/./src/web.js","webpack://js-rest-login/webpack/bootstrap","webpack://js-rest-login/webpack/runtime/define property getters","webpack://js-rest-login/webpack/runtime/hasOwnProperty shorthand","webpack://js-rest-login/webpack/runtime/make namespace object","webpack://js-rest-login/./src/todo.js"],"names":["checkLoginStatus","fetch","method","Promise","reject","error","then","response","ok","json","updateStatus","err","performLogin","username","headers","Headers","body","JSON","stringify","console","log","callToAddNewTodo","task","prio","done","priority","callToDeleteTodo","index","callToChangeTodoPriority","newPriority","callToUpdate","showContent","document","querySelector","classList","add","remove","showLogin","showLoggedInUserName","getElementById","innerText","addLogin","addEventListener","usernameEl","value","userInfo","setTimeout","todos","renderTodos","errMsgs","todoListEl","a","html","map","todo","join","innerHTML","deleteTodo","screenMsgs","status","addNewTodo","addButtonEl","taskEl","priorityEl","e","deleteButtonEl","target","contains","dataset","updateTodoPriority","rankTodos","desc"],"mappings":"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","file":"todo.js","sourcesContent":["export const checkLoginStatus = function() {\n    return fetch('/session', {\n        method: 'GET',\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error'});\n    })\n    .then( response => {\n        if (response.ok) {\n            return response.json();\n        }\n        updateStatus(); // pass in errMsg\n        return response.json().then( err => Promise.reject(err) );\n    });\n};\n\nexport const performLogin = function( username ) {\n    return fetch('/session', {\n        method: 'POST',\n        headers: new Headers({ //headers\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify( { username: username }),\n\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error'} );\n    })\n    .then( response => {\n        if (response.ok) {\n            console.log(username);//\n            return response.json();\n        }\n        return response.json().then(err => Promise.reject(err) );\n    });\n};\n\nexport const callToAddNewTodo = function( task, prio ) {\n    return fetch('/todo', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify({\n            // todos: {\n                task: task,\n                done: false,\n                priority: prio,\n            // },\n        }),\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error' }) \n    })\n    .then( response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return response.json().then(err => Promise.reject(err) );\n    });                          \n};\n\n\nexport const callToDeleteTodo = function(index) {\n    return fetch(`/session/${index}`, {\n        method: 'DELETE',\n        // headers: new Headers({\n        //     'content-type': 'application/json',\n        // }),\n        // body: JSON.stringify({ index }),\n    })\n    .catch( () => {\n        return Promise.reject( { error: 'network-error'} )\n    })\n   .then( response => {\n\n        if (response.ok) {\n            return response.json();\n        }\n        return response.json().then(err => Promise.reject(err) );\n    });    \n};\n\nexport const callToChangeTodoPriority = function( index, newPriority ) {\n    return fetch('/session', {\n        method: 'PATCH',\n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify({ \n            // todos[index]: {\n            //     priority : newPriority,\n            // }\n        }),\n    })\n}\n\nexport const callToUpdate = function() { //pooling every 5 sec\n    return fetch('./session', {\n        method: ''\n    })\n}\n","import {\n    checkLoginStatus,\n    performLogin\n} from './services';\n\nimport {\n    callToAddNewTodo, callToChangeTodoPriority, callToDeleteTodo\n} from './services';\n\nexport const showContent = function() {\n    document.querySelector('#todo-app .login').classList.add('hidden');\n    document.querySelector('#todo-app .logged-in').classList.remove('hidden');\n}\n\nexport const showLogin = function() {\n    document.querySelector('#todo-app .login').classList.remove('hidden');\n    document.querySelector('#todo-app .logged-in').classList.add('hidden');\n}\n\nconst showLoggedInUserName = function( username ) {\n    document.getElementById(\"user\").innerText = username;   \n}\n\nexport const addLogin = function() {\n    document.querySelector('#todo-app .login button').addEventListener('click', () => {\n        const usernameEl = document.querySelector('#todo-app .login input');\n        const username = usernameEl.value;\n\n        performLogin(username)\n        .then( userInfo => {\n            showContent();\n            setTimeout( checkLoginStatus, 5000 ); //\n            username = userInfo.username;\n            console.log(username);\n            showLoggedInUserName(username);\n            todos = userInfo.todos;\n            renderTodos(todos);\n        })\n        .catch( err => {\n            updateStatus(errMsgs[err.error] || err.error);\n        });\n    });\n}\n\nexport const renderTodos = function(todos) {\n    const todoListEl = document.querySelector('#todo-app .todos');\n    var a= function(){\n        console.log(123)\n    }\n    const html = todos.map( (todo, index) => { \n        console.log(\"In render\", todo, todo[\"priority\"]);\n       \n        // // let a= deleteTodo()\n        // let s= '<li><button class=\"delete\">X</button></li>';\n        // return s\n        return `\n            <li>\n                <span class=\"delete\" data-index=${index}>X</span>\n                <span class=\"task\" data-index=${index}>${todo.task}</span>\n                <span class=\"colon\">:</span>\n                <button class=\"degrade\" data-index=${index}>-</button>\n                <span class=\"priority\" data-index=${index}>${todo.priority}</span>\n                <button class=\"upgrade\" data-index=${index}>+</button>\n            </li>\n        `;\n    }).join('');\n    console.log(todoListEl);\n    todoListEl.innerHTML = html;\n    deleteTodo();\n}\n\nexport const errMsgs = {\n\n}\n\nexport const updateStatus = function( screenMsgs ) {\n    const status = document.querySelector('#todo-app .status')\n    // console.log(typeof status);\n    status.innerHTML = screenMsgs;\n}\n\nexport const addNewTodo = function() {\n    const addButtonEl = document.querySelector('#add-todo .add');\n    const taskEl = document.querySelector('#add-todo .task');\n    const priorityEl = document.querySelector('#add-todo .priority');\n    addButtonEl.addEventListener('click', (e) => {\n        const task = taskEl.value;\n        const prio = priorityEl.value;\n        callToAddNewTodo( task, prio )\n        .then( (todos) => { \n            taskEl.value ='';\n            priorityEl.value ='';\n            renderTodos( todos );\n        })\n        .catch( err => {\n            updateStatus(errMsgs[err.error] || err.error);\n        });\n        \n    })\n}\n\nexport const deleteTodo = function() {\n\n    const todoListEl = document.querySelector('#todo-app .todos');\n    // const deleteButtonEl = document.querySelectorAll('.delete')\n    console.log(deleteButtonEl);\n    todoListEl.addEventListener('click', (e) => {\n        console.log(123);\n        if (!e.target.classList.contains('delete')) {\n            return;\n        } else {\n            const index = e.target.dataset.index;\n            callToDeleteTodo( index )\n            .then( (todos) => {\n                renderTodos( todos );\n                updateStatus(`Successfully delete a todo`);\n                // delete \n            })\n            .catch( err => {\n                updateStatus(errMsgs[err.error] || err.error);\n            });\n        }\n    })\n}\n\nexport const updateTodoPriority = function() {\n    const todoListEl = document.querySelector('#todo-app .todos');\n    todoListEl.addEventListener('click', (e) => {\n        const index = e.target.dataset.index;\n        if (e.target.classList.contains('degrade')) {\n\n        } else if (e.target.classList.contains('upgrade') ) {\n        //     if ()\n        }\n    });\n}\n\nexport const rankTodos = function( ) {\n\n}\n\n// const timerEl = document.querySelector('.timer');\n\n//   const setTimer = (endAt) => {\n//     const totalSeconds  = Math.max( 0, endAt - Math.floor(Date.now()/1000) );\n//     const secondsLeft = totalSeconds % 60;\n//     const minsLeft = (totalSeconds - secondsLeft)/60;\n//     timerEl.innerText = `${minsLeft}:${secondsLeft.toString().padStart(2,'0')}`;\n//   };\n\n//   const updateTimer = () => {\n//     // No error checking shown, but should be present on real code\n//     return fetch('/api/controls', {\n//       method: 'GET',\n//     })\n//     .then( response => response.json() )\n//     .then( controls => setTimer(controls.timer.endAt) )\n//     .then( setTimeout( updateTimer, 5000) );\n//   };\n\n//   updateTimer();\n\n//   const setTimerButton = document.querySelector('.set-timer');\n//   setTimerButton.addEventListener('click', () => {\n//     const setTo = document.querySelector('.timer').value;\n//     setTimerButton.disabled = true;\n//     fetch('/api/controls/timer', {\n//       method: 'POST',\n//       headers: new Headers({\n//         'content-type': 'application/json',\n//       }),\n//       body: JSON.stringify({timer: setTo}),\n//     })\n//     .finally( () => {\n//       setTimerButton.disabled = false;\n//     });\n//   });\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n    checkLoginStatus\n} from './services';\n\nimport { \n    addLogin,\n    renderTodos, addNewTodo, deleteTodo,\n    showContent,showLogin, rankTodos\n} from './web';\n\nlet todos = [];\n\naddLogin();\n\ncheckLoginStatus()\n.then( (userInfo) => {\n    showContent();\n    todos = userInfo.todos;\n    renderTodos(todos);\n})\n.catch( error => { \n    JSON.stringify(error);\n    showLogin();\n});\n\n\n\naddNewTodo()\n.then( (userInfo) => {\n    todos = userInfo.todos;\n    renderTodos(todos);\n    rankTodos( desc)\n})\n\n// deleteTodo()   给x加事件监听  addAbilitytoDelete()\n// .then( (userInfo) => {\n//     todos = userInfo.todos;\n//     renderTodos(todos);\n//     rankTodos( desc )\n// });\n"],"sourceRoot":""}